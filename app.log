[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for fatec.pi.onbus:onbus:jar:0.0.1-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.bouncycastle:bcpkix-jdk15on:jar -> duplicate declaration of version 1.70 @ line 115, column 15
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] 
[INFO] ------------------------< fatec.pi.onbus:onbus >------------------------
[INFO] Building onbus 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.4.3:run (default-cli) > test-compile @ onbus >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ onbus ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 4 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ onbus ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 56 source files with javac [debug parameters release 17] to target\classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ onbus ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ onbus ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 1 source file with javac [debug parameters release 17] to target\test-classes
[INFO] 
[INFO] <<< spring-boot:3.4.3:run (default-cli) < test-compile @ onbus <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.4.3:run (default-cli) @ onbus ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.3)

2025-07-28T22:10:42.511-03:00  INFO 2844 --- [onbus] [  restartedMain] fatec.pi.rod.onbus.OnbusApplication      : Starting OnbusApplication using Java 21.0.3 with PID 2844 (C:\Users\Gabriel\Desktop\Projeto-integrador-joaoAmbrosio\target\classes started by Gabriel in C:\Users\Gabriel\Desktop\Projeto-integrador-joaoAmbrosio)
2025-07-28T22:10:42.513-03:00  INFO 2844 --- [onbus] [  restartedMain] fatec.pi.rod.onbus.OnbusApplication      : No active profile set, falling back to 1 default profile: "default"
2025-07-28T22:10:42.542-03:00  INFO 2844 --- [onbus] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-28T22:10:42.543-03:00  INFO 2844 --- [onbus] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-28T22:10:43.077-03:00  INFO 2844 --- [onbus] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-28T22:10:43.133-03:00  INFO 2844 --- [onbus] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
2025-07-28T22:10:43.627-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-28T22:10:43.637-03:00  INFO 2844 --- [onbus] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-28T22:10:43.637-03:00  INFO 2844 --- [onbus] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-07-28T22:10:43.674-03:00  INFO 2844 --- [onbus] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-28T22:10:43.675-03:00  INFO 2844 --- [onbus] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1132 ms
2025-07-28T22:10:43.782-03:00  INFO 2844 --- [onbus] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-28T22:10:43.817-03:00  INFO 2844 --- [onbus] [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-07-28T22:10:43.838-03:00  INFO 2844 --- [onbus] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-28T22:10:44.027-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-28T22:10:44.048-03:00  INFO 2844 --- [onbus] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-28T22:10:44.170-03:00  INFO 2844 --- [onbus] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:onbus user=SA
2025-07-28T22:10:44.171-03:00  INFO 2844 --- [onbus] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-28T22:10:44.187-03:00  WARN 2844 --- [onbus] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-28T22:10:44.201-03:00  INFO 2844 --- [onbus] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-28T22:10:44.819-03:00  INFO 2844 --- [onbus] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: drop table if exists onibus cascade 
Hibernate: drop table if exists reserva cascade 
Hibernate: drop table if exists usuario cascade 
Hibernate: create table onibus (placa varchar(7) not null unique, id_onibus bigint generated by default as identity, id_usuario bigint not null, primary key (id_onibus))
Hibernate: create table reserva (doca char(1) not null, id_reserva integer generated by default as identity, vaga char(1) not null, horario_chegada timestamp(6) not null, horario_saida timestamp(6) not null, id_onibus bigint not null, id_usuario bigint not null, primary key (id_reserva))
Hibernate: create table usuario (ativo boolean not null, created_at timestamp(6), id_usuario bigint generated by default as identity, updated_at timestamp(6), cnpj varchar(14) not null, tipo varchar(31) not null, email varchar(225) not null unique, nome varchar(225) not null, senha varchar(225) not null, primary key (id_usuario))
Hibernate: alter table if exists onibus add constraint FKh11qseghjl6jd224fo22a3270 foreign key (id_usuario) references usuario
2025-07-28T22:10:44.854-03:00  INFO 2844 --- [onbus] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
? Procurando o arquivo de certificado CA: certs/AmazonRootCA1.pem
? Arquivo de certificado CA encontrado!
? Certificado CA carregado com sucesso!
? Procurando o arquivo de certificado do cliente: certs/certificate.pem.crt
? Arquivo de certificado do cliente encontrado!
? Certificado do cliente carregado com sucesso!
? Procurando o arquivo de chave privada: certs/private_pkcs8.pem
? Arquivo de chave privada encontrado!
? Decodificando a chave privada...
? Chave privada carregada com sucesso!
? Criando o keystore da CA...
? Criando o keystore do cliente...
? Configurando o SSLContext...
? SocketFactory criado com sucesso!
? Conectado ao AWS IoT Core!
2025-07-28T22:10:50.152-03:00  WARN 2844 --- [onbus] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-28T22:10:50.164-03:00  WARN 2844 --- [onbus] [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 54c9d57d-1b2d-48f0-98c7-d98416d3f7be

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-07-28T22:10:50.169-03:00  INFO 2844 --- [onbus] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-28T22:10:50.392-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-07-28T22:10:50.501-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:onbus'
2025-07-28T22:10:50.541-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-28T22:10:50.561-03:00  INFO 2844 --- [onbus] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-07-28T22:10:50.567-03:00  INFO 2844 --- [onbus] [  restartedMain] fatec.pi.rod.onbus.OnbusApplication      : Started OnbusApplication in 8.312 seconds (process running for 8.644)
2025-07-28T22:12:54.481-03:00  INFO 2844 --- [onbus] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-28T22:12:54.482-03:00  INFO 2844 --- [onbus] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-28T22:12:54.484-03:00  INFO 2844 --- [onbus] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
Hibernate: select a1_0.id_usuario,a1_0.ativo,a1_0.created_at,a1_0.email,a1_0.nome,a1_0.senha,a1_0.tipo,a1_0.updated_at from usuario a1_0 where a1_0.email=? and a1_0.tipo='ROLE_ADMIN'
Hibernate: insert into usuario (ativo,created_at,email,nome,senha,updated_at,tipo,id_usuario) values (?,?,?,?,?,?,'ROLE_ADMIN',default)
2025-07-28T22:12:54.750-03:00  WARN 2844 --- [onbus] [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502
2025-07-28T22:12:54.752-03:00 ERROR 2844 --- [onbus] [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column "CNPJ"; SQL statement:
insert into usuario (ativo,created_at,email,nome,senha,updated_at,tipo,id_usuario) values (?,?,?,?,?,?,'ROLE_ADMIN',default) [23502-232]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  03:14 min
[INFO] Finished at: 2025-07-28T22:13:52-03:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.4.3:run (default-cli) on project onbus: Process terminated with exit code: 1 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
